<div class="factura-container">
  <h2 mat-dialog-title>Factura - Pedido #{{ factura.pedidoId }}</h2>

  <mat-dialog-content>
    <div class="factura-header">
      <div class="factura-info">
        <p><strong>Mesa:</strong> {{ factura.numeroMesa }}</p>
        <p><strong>Mesero:</strong> {{ factura.mesero }}</p>
        <p><strong>Fecha:</strong> {{ factura.fechaPedido }}</p>
        <p><strong>Hora:</strong> {{ factura.horaPedido | date:'short' }}</p>
      </div>
    </div>

    <table class="factura-table">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Cantidad</th>
          <th>Precio Unit.</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of factura.items">
          <td>{{ item.producto }}</td>
          <td>{{ item.cantidad }}</td>
          <td>${{ item.precioUnitario | number:'1.0-0' }}</td>
          <td>${{ item.total | number:'1.0-0' }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3"><strong>Subtotal:</strong></td>
          <td><strong>${{ factura.subtotal | number:'1.0-0' }}</strong></td>
        </tr>
        <tr>
          <td colspan="3"><strong>Impuestos:</strong></td>
          <td><strong>${{ factura.impuestos | number:'1.0-0' }}</strong></td>
        </tr>
        <tr *ngIf="factura.propina > 0">
          <td colspan="3"><strong>Propina:</strong></td>
          <td><strong>${{ factura.propina | number:'1.0-0' }}</strong></td>
        </tr>
        <tr class="total-row">
          <td colspan="3"><strong>TOTAL:</strong></td>
          <td><strong>${{ factura.total | number:'1.0-0' }}</strong></td>
        </tr>
      </tfoot>
    </table>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="imprimir()">
      <mat-icon>print</mat-icon> Imprimir
    </button>
    <button mat-raised-button color="primary" (click)="cerrar()">Cerrar</button>
  </mat-dialog-actions>
</div>

